var toolfactory=toolfactory||{};toolfactory.home=toolfactory.home||{},toolfactory.home.cookies=toolfactory.home.cookies||{};var toolfactoryDataLayer=toolfactoryDataLayer||{};toolfactoryDataLayer.Page=toolfactoryDataLayer.Page||{},toolfactory.home.cookies.cookiesOIL={pathLib:null,cdn:null,language:null,literals:null,consentData:null,cookiesOilData:null,areHrefsReplaced:!1,init:function(){toolfactory.home.cookies.cookiesOIL.removeOldCookies(),toolfactory.home.cookies.cookiesOIL.initVars(),toolfactory.home.cookies.cookiesOIL.loadEvents();var o=toolfactory.home.cookies.cookiesOIL.buildConfiguration();toolfactory.home.cookies.cookiesOIL.addConfiguration(o),toolfactory.home.cookies.cookiesOIL.addScripts()},addConfiguration:function(o){var e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.id="oil-configuration",t.type="application/configuration",t.innerHTML=JSON.stringify(o),e.appendChild(t)},addScripts:function(){var o=document.getElementsByTagName("head")[0],e=document.createElement("script");e.src=toolfactory.home.cookies.cookiesOIL.pathLib+"/lib/oil.1.3.5-RELEASE.min.js?v=1.0",o.appendChild(e);e=document.createElement("script");e.src=toolfactory.home.cookies.cookiesOIL.pathLib+"/lib/oilstub.1.3.5-RELEASE.min.js?v=1.0",o.appendChild(e);e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=toolfactory.home.cookies.cookiesOIL.cdn+"/responsive/assets/css/logitravel/cookies.css",document.body.appendChild(e)},buildConfiguration:function(){return{timeout:-1,locale_url:toolfactory.home.cookies.cookiesOIL.pathLib+"/literals/locale"+toolfactory.home.cookies.cookiesOIL.language+".json",config_version:1,advanced_settings:!0,iabVendorListUrl:toolfactory.home.cookies.cookiesOIL.pathLib+"/config/vendors.json",require_optout_confirm:!1,cpc_type:"standard",publicPath:toolfactory.home.cookies.cookiesOIL.pathLib+"/lib/",advanced_settings_purposes_default:!0,show_limited_vendors_only:!0}},removeOldCookies:function(){var o=document.getElementById("box-cookies");null!=o&&null!=o&&o.parentNode.removeChild(o);o=document.getElementsByClassName("cookies");0<o.length&&o[0].parentNode.removeChild(o[0])},createTechnicalCookies:function(){var t="<div class='as-oil-cpc__purpose-container'><div class='as-oil-cpc__purpose-header'>{label_title}</div><div class='as-oil-cpc__purpose-text'>{label_description}</div><label class='as-oil-cpc__switch cookies-mandatory'><input data-id='25' id='as-js-purpose-slider-25' class='as-js-purpose-sliderno disabled ' type='checkbox' name='oil-cpc-purpose-25' value='true' disabled='disabled' checked='checked'><span class='as-oil-cpc__status'></span><span class='as-oil-cpc__slider'></span></label></div>";t=(t=t.replace("{label_title}",toolfactory.home.cookies.cookiesOIL.literals.label_title)).replace("{label_description}",toolfactory.home.cookies.cookiesOIL.literals.label_description),setTimeout(function(){var o=document.getElementsByClassName("as-oil-cpc__purpose")[0],e=document.createElement("div");e.className="as-oil-cpc__purpose",e.innerHTML=t,o.parentNode.insertBefore(e,o)},200)},getLegalTextLinkPath:function(o,e){var t="/nhomett/legaltext/"+e+"/";return t=-1<o.indexOf("app.smy.travel")?"cookies"===e?"/app/information/cookies":"/app/information/privacy":t},loadEvents:function(){var o=window.addEventListener?"addEventListener":"attachEvent";(0,window[o])("attachEvent"==o?"onmessage":"message",function(e){function o(o){return-1!==JSON.stringify(e.data).indexOf(o)}var t="//"+location.hostname;null!==document.getElementById("cookies_link")&&(document.getElementById("cookies_link").href=t+toolfactory.home.cookies.cookiesOIL.getLegalTextLinkPath(t,"cookies")),null!==document.getElementById("privacidad_link")&&(document.getElementById("privacidad_link").href=t+toolfactory.home.cookies.cookiesOIL.getLegalTextLinkPath(t,"privacidad")),e&&e.data&&o("oil_click_advanced_settings")&&toolfactory.home.cookies.cookiesOIL.createTechnicalCookies(),e&&e.data&&o("oil_optin_done_button_clicked")&&toolfactory.home.cookies.cookiesOIL.loadConsentGtm()},!1)},loadLiterals:function(){var o=toolfactory.home.cookies.cookiesOIL.pathLib+"/literals/technicalCookies"+toolfactory.home.cookies.cookiesOIL.language+".json",e=new XMLHttpRequest;e.open("GET",o),e.onload=function(){var o;200===e.status?(o=JSON.parse(e.response),toolfactory.home.cookies.cookiesOIL.literals=o):(console.log("Error when try to retrieve information of cookies literals"),toolfactory.home.cookies.cookiesOIL.literals.label_title="Technical Cookies",toolfactory.home.cookies.cookiesOIL.literals.label_description="They are the cookies that are used for the storage and recovery of the data necessary for the proper functioning of the website.")},e.send()},initVars:function(){var o;null!=toolfactoryDataLayer.Page.CdnUrl&&null!=toolfactoryDataLayer.Page.CdnUrl?(toolfactory.home.cookies.cookiesOIL.pathLib=toolfactoryDataLayer.Page.CdnUrl+"/resources/javascript/home/traveltool/cookies",toolfactory.home.cookies.cookiesOIL.cdn=toolfactoryDataLayer.Page.CdnUrl.replace("https:","")):((o=location.href).replace("https://www.","//cdn.").replace("https://ssl.","//cdn."),o="//"+o.split("/")[2],toolfactory.home.cookies.cookiesOIL.cdn=o,toolfactory.home.cookies.cookiesOIL.pathLib=o+"/resources/javascript/home/traveltool/cookies"),null!=toolfactoryDataLayer.Page.Language&&null!=toolfactoryDataLayer.Page.Language?toolfactory.home.cookies.cookiesOIL.language=toolfactoryDataLayer.Page.Language:toolfactory.home.cookies.cookiesOIL.language="EN",toolfactory.home.cookies.cookiesOIL.loadLiterals()},loadConsentGtm:function(){var e=window.location.hostname.replace("qa-www.",".").replace("qa-ssl.",".").replace("www.",".").replace("ssl.",".").replace("blog.","."),t=new Date;t.setDate(t.getDate()+365),__cmp("getVendorConsents",null,function(o){toolfactory.home.cookies.cookiesOIL.consentData={GdprConsent:o},document.cookie="GDPRConsentObject="+JSON.stringify(toolfactory.home.cookies.cookiesOIL.consentData)+";domain="+e+";expires="+t.toUTCString()}),toolfactory.home.cookies.cookiesOIL.cookiesOilData=toolfactory.home.cookies.cookiesOIL.getCookie("oil_data"),document.cookie="oil_data=;expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="oil_data="+toolfactory.home.cookies.cookiesOIL.cookiesOilData+";domain="+e+";expires="+t.toUTCString()+";path=/",document.cookie="cookiesAccept=1;domain="+e+";expires="+t.toUTCString()+";path=/"},getCookie:function(o){for(var e=o+"=",t=decodeURIComponent(document.cookie).split(";"),a=0;a<t.length;a++){for(var i=t[a];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return""},reInitCookies:function(){document.cookie="oil_data=;expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain="+this.getDomain(),document.cookie="cookiesAccept=;expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain="+this.getDomain(),this.init()},getDomain:function(){return window.location.hostname.replace("qa-www.",".").replace("qa-ssl.",".").replace("www.",".").replace("ssl.",".").replace("blog.",".")}},window.addEventListener("load",toolfactory.home.cookies.cookiesOIL.init);